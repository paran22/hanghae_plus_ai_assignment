## [5주차] 심화과제 - 다양한 형태의 입력을 가지는 LLM 서비스 개발
[과제코드](https://github.com/paran22/hanghae_plus_ai_assignment/blob/main/assignment/5-hard/5-hard.ipynb)

주제 : 도서 추천 챗봇

### 1. 프로젝트 입/출력 정하기

#### 입력

"인공지능 입문서 추천해주세요"
"재미있는 소설 추천해줘"

#### 출력

추천 도서 정보와 추천하는 이유

### 2. 방법론 정하기

RAG와 LLM을 활용한다.
LLM은 openLLM(Bllossom/llama-3.2-Korean-Bllossom-3B)과, gpt-4o-mini를 사용하였다.

1. 공공API인 [국립중앙도서관 사서추천도서목록](https://www.nl.go.kr/NL/contents/N31101030900.do)를 벡터 db에 저장한다.
2. 벡터 db에서 질문과 유사한 도서를 top 3개를 찾는다.
3. LLM 프롬프트에 찾은 도서 정보를 context로 제공하여 추천 도서 정보와 추천하는 이유를 출력한다.

```python
template = """다음은 검색된 도서 정보들입니다:

{context}

이 정보들을 바탕으로 다음 질문에 답변해주세요: {question}

답변 작성 가이드:
1. 제시된 도서들의 난이도, 내용, 특징을 비교 분석해주세요.
2. 질문자의 요구사항에 가장 적합한 도서를 선정해주세요.
3. 선정한 도서가 첫 번째로 제시된 도서가 아니더라도 괜찮습니다.

답변은 한국어로 작성해주시고, 추천하는 도서의 제목과 저자를 반드시 포함해주세요."""
```

### 3. 실제로 prompt를 줬을 때 LLM의 응답

#### openLLM(Bllossom/llama-3.2-Korean-Bllossom-3B)

**✅ 질문1: 인공지능 입문서 추천해주세요**

인공지능 입문서 추천을 위해 제시된 도서들의 내용을 비교 분석해보겠습니다.

1. **제목: 내 정원의 로봇** - **저자: 데보라 인스톨**

- **난이도 및 내용**: 이 책은 인공지능 소재에 작가의 상상력을 더해 풀어낸 따뜻한 소설입니다. 인공지능 하인이 집안일을 돕고, 안드로이드가 운전을 하는 미래 영국의 어느 마을에 사는 주인공을 중심으로 이야기가 전개됩니다.
- **특징**: 인공지능의 다양한 성공 사례와 주인공의 성장 과정을 통해 인공지능의 가능성을 시사합니다. 주인공 벤은 낡고 고장난 로봇 '탱'을 고치기 위해 여행을 떠나고, 그 과정에서 둘은 다양한 사건을 겪으며 서로를 위로하고 성장합니다.

2. **제목: 앙코르 내 인생** - **저자: 신동흔, 김수혜, 김미리, 김신영**

- **난이도 및 내용**: 이 책은 14명의 주인공이 다양한 직업과 삶을 통해 성장하고 성숙하는 과정을 다룹니다. 각 주인공이 자신의 삶의 고장을 해결하고 성장하는 이야기를 통해 인공지능과 관련된 주제를 다룹니다.
- **특징**: 다양한 직업과 삶의 경험을 통해 인공지능의 가능성을 시사하며, 주인공들이 성장하고 성숙하는 과정을 통해 인공지능에 대한 공감을 유도합니다.

3. **제목: 천개의 파랑** - **저자: 천선란**

- **난이도 및 내용**: 이 책은 2035년을 배경으로 한 SF소설입니다. 인간과 로봇, 경주마가 함께 주인공을 이루며 다양한 이야기를 전개합니다.
- **특징**: 과학기술의 발전으로 인해 소외된 인간과 동물, 로봇에 대해 이야기하며, 주인공들의 서로를 위한 서투른 배려와 성장 과정을 통해 인공지능에 대한 공감을 유도합니다.

이러한 도서들의 특징과 내용을 비교하면, **내 정원의 로봇**은 인공지능의 다양한 성공 사례와 주인공의 성장 과정을 통해 인공지능의 가능성을 시사하는 소설입니다. 반면, **앙코르 내 인생**은 다양한 직업과 삶의 경험을 통해 인공지능의 가능성을 시사하며, 주인공들이 성장하고 성숙하는 과정을 통해 인공지능에 대한 공감을 유도하는 책입니다. **천개의 파랑**은 SF소설로 인공지능과 관련된 주제를 다룹니다. 이러한 특징을 고려하면, 인공지능 입문서로 가장 적합한 도서는 **내 정원의 로봇**입니다. 이 책은 인공지능의 다양한 성공 사례와 주인공의 성장 과정을 통해 인공지능의 가능성을 시사하며, 주인공의 감정과 성장 과정을 통해 인공지능에 대한 공감을 유도합니다. 따라서, **내 정원의 로봇**이 제시된 도서들 중 가장 적합한 인공지능 입문서로 추천합니다.

**✅ 질문2: 재미있는 소설 추천해줘**

제시된 도서들의 난이도, 내용, 특징을 비교 분석해보고, 질문자의 요구사항에 가장 적합한 도서를 선정해보겠습니다. 1. 제시된 도서들의 난이도와 내용을 분석하면 다음과 같습니다:

- **옛그림 속 양반의 한평생**: 이 책은 조선시대 양반의 일상 생활을 그린 소설입니다.
  조선시대에 살았던 평범한 양반들의 일상과 삶을 통해 조선시대 사회의 특성을 이해할 수 있는 작품입니다. 책의 내용은 단순한 일상 이야기보다는 조선시대 양반들의 삶을 깊이 있게 설명하고 있습니다.
- **그 무렵 누군가**: 이 책은 히가시노 게이고 작가의 단편 소설을 모아 한 권으로 엮은 책입니다. 히가시노 작가의 작품은 극적 재미와 예리한 비판적 의식을 가지고 있으며, 이 책에서는 다양한 주제와 다채로운 소재를 다루고
  있습니다.
- **도시를 걷는 시간**: 이 책은 서울 시내 표석을 통해 조선시대와 현재의 차이를 비교하며 역사와 문화를 탐구한 작품입니다. 작가는 조선시대와 현재의 주변에 위치한 표석을 통해 시간의 길을 거슬러 역사를 단순히 과거로 치부할 것이 아닌 어제와 오늘 그리고 내일을 만나는 순간임을 깨닫고자 합니다.

2. 질문자의 요구사항을 분석해보고, 가장 적합한 도서를 선정해보겠습니다.

- 질문자는 재미있는 소설을 추천해주고자 합니다. 이 경우, **그 무렵 누군가**와 **도시를 걷는 시간**이 모두 재미있는 소설이 될 수 있지만, 질문자가 단순히 재미있는 소설을 찾는 것이라면, **그 무렵 누군가**가 더 적합할 수 있습니다. 이 책은 히가시노 게이고 작가의 작품을 통해 다양한 주제와 소재를 다루고 있으며, 극적 재미와 예리한 비판적 의식을 가지고 있어 독자들에게 큰 호기심을 자극할 수 있습니다.

3. 선정한 도서의 제목과 저자는 다음과 같습니다:

- **그 무렵 누군가**: 히가시노 게이고 저자 이 책은 히가시노 게이고 작가의 작품을 통해 다양한 주제와 소재를
  다루고 있으며, 극적 재미와 예리한 비판적 의식을 가지고 있어 독자들에게 큰 호기심을 자극할 수 있습니다. 따라서, 질문자의 요구사항에 가장
  적합한 도서로 **그 무렵 누군가**를 추천해드릴 수 있습니다.

#### gpt-4o-mini

**✅ 질문1: 인공지능 입문서 추천해주세요**

제시된 도서 정보들을 바탕으로 인공지능 입문서를 추천해 드리겠습니다.

1. **도서 비교 분석**:

- **내 정원의 로봇 (저자: 데보라인스톨)**: 이 책은 인공지능을 소재로 한 소설로, 주인공 벤이 고장 난 로봇 탱을 수리하며 겪는 성장 이야기를 다룹니다. 인공지능의 발전과 인간의 감정을 연결지어 따뜻한 이야기로 풀어내고 있어, 인공지능 기술에 대한 직접적인 설명보다는 그로 인해 변화하는 인간 관계와 정서를 중심으로 하고 있습니다.
- **앙코르 내 인생 (저자: 신동흔 외)**: 이 책은 다양한 사람들의 인생 이야기를 통해 새로운 삶의 전환점을
  탐구하는 에세이집입니다. 주제는 삶의 변화와 도전이지만, 인공지능 관련 내용은 포함되어 있지 않습니다.
- **천개의 파랑 (저자: 천선란)**: 이 SF 소설은 2035년의 미래를 배경으로 하며, 경주마와 로봇 기수 간의 관계를 통해 인간과 동물, 로봇에 대한 사회적 이슈를 다루고 있습니다. 역시 인공지능에 대한 기술적 설명보다는 감정적인 서사와 사회적 메시지를 중심으로 전개됩니다.

2. **요구사항에 적합한 도서 선정**:

- 제시된 도서들 중에서 인공지능에 대한 깊이 있는 이해를 원하는 입문서로는 적합하지 않습니다. 하지만, '내 정원의 로봇'은 인공지능과 관련된 주제를 다루고 있으며, 이를 통해 독자는 인공지능의 적용 가능성과 인간과의 상호작용을 간접적으로 경험할 수 있습니다.

3. **추천 도서**: - 따라서 인공지능 입문서로는 **‘내 정원의 로봇’ (저자: 데보라 인스톨)**을 추천드립니다. 이 책은 소설 형식으로 이야기되기 때문에 부담 없이 읽을 수 있으며, 현대 사회에서의 인공지능에 대한 다양한 시각을 제공받을 수 있습니다. 읽으시는 데 도움이 되길 바랍니다!

**✅ 질문2: 재미있는 소설 추천해줘**

재미있는 소설을 추천하기 위해 제시된 도서들의 난이도, 내용, 특징을 비교 분석해보겠습니다.

1. **도서 비교 분석**:

- **『옛그림 속양반의 한평생』 - 허인욱**: 이 책은 인문과학 분야로, 조선시대 양반들의 삶을 풍속화와 함께 설명하는 내용입니다. 역사적 사실과 사회적 맥락에 대한 깊은 이해를 제공하지만, 소설이 아닌 비소설이기 때문에 이야기의 흡입력이나 긴장감은 상대적으로 낮습니다.
- **『그 무렵누군가』 - 히가시노 게이고**: 일본의 베스트셀러 작가 히가시노 게이고의 단편소설 모음집으로, 다양한 주제와 서스펜스를 담고 있습니다. 특히 '아빠, 안녕'과 같은 몽환적인 소재와 '수수께끼가 가득'처럼 사회적 비판을 담은 이야기가 있어 흥미진진합니다. 짧은 분량의 여러 이야기를 통해 긴장감과 재미를 느낄 수 있습니다.
- **『도시를 걷는 시간』 - 김별아**: 어문학 장르로 서울 시내의 조선시대 표석을 탐방하며 과거와 현재를 연결하는 에세이입니다. 역사적 요소와 도시 탐방에 중점을 두고 있지만, 소설적인 이야기 전개나 스릴이 부족하여 재미를 중시하는 독자에게는 다소 지루할 수 있습니다.

2. **추천 도서 선정**: 질문자가 "재미있는 소설"을 요청한 만큼, 문학적 재미와 긴장감을 제공하는 작품이 필요합니다. 따라서 히가시노 게이고의 『그 무렵 누군가』가 가장 적합한 선택입니다. 이 책은 단편소설 모음으로 다양한 이야기들이 포함되어 있어 독자가 쉽게 접근하고 즐길 수 있으며, 작가 특유의 서스펜스와 극적 재미는 많은 독자들에게 호평받고 있습니다.
3. **추천도서 정보**: - **제목**: 그 무렵 누군가 - **저자**: 히가시노 게이고 이 책을 통해 여름의 더
